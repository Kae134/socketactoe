"use strict";
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return update;
    }
});
const _extends = require("@swc/helpers/_/_extends");
const _devkit = require("@nx/devkit");
const _executoroptionsutils = require("@nx/devkit/src/generators/executor-options-utils");
function update(tree) {
    const projects = (0, _devkit.getProjects)(tree);
    (0, _executoroptionsutils.forEachExecutorOptions)(tree, '@nx/vite:test', (options, projectName, targetName, configuration)=>{
        const projectConfig = projects.get(projectName);
        if (!options.testFile) {
            return;
        }
        const newTestFileArgs = [
            options.testFile
        ];
        delete options.testFile;
        if (configuration) {
            projectConfig.targets[targetName].configurations[configuration] = _extends._({}, options, {
                testFiles: newTestFileArgs
            });
        } else {
            projectConfig.targets[targetName].options = _extends._({}, options, {
                testFiles: newTestFileArgs
            });
        }
        (0, _devkit.updateProjectConfiguration)(tree, projectName, projectConfig);
    });
}

//# sourceMappingURL=update-16-4-1-test-file-config.js.map